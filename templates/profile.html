{% extends "base.html" %}
{% block title %}Profile - {{ user.name }}{% endblock %}
{% block content %}

<!-- Profile Header -->
<div class="relative bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-2xl shadow-lg mb-10">
    <div class="absolute inset-0 bg-black/20 rounded-2xl"></div>
    <div class="flex flex-col md:flex-row items-center md:items-end px-8 py-10 md:py-16 relative z-10">
        <!-- Profile Picture -->
        <div
            class="w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg bg-white mb-4 md:mb-0 md:mr-6">
            {% if user.profile_pic %}
            <img src="{{ url_for('static', filename=user.profile_pic) }}" alt="Profile Picture"
                class="w-full h-full object-cover">
            {% else %}
            <img src="{{ url_for('static', filename='default-profile.png') }}" alt="Default Picture"
                class="w-full h-full object-cover">
            {% endif %}
        </div>
        <!-- User Info -->
        <div class="text-center md:text-left text-white">
            <h1 class="text-3xl font-bold">{{ user.name }}</h1>
            <p class="text-lg opacity-90">{{ user.id }}</p>
            {% if user.cgpa and user.show_cgpa %}
            <p class="mt-2 text-sm bg-white/20 px-3 py-1 inline-block rounded-full">CGPA: {{ user.cgpa }}</p>
            {% endif %}
        </div>
    </div>
</div>

<!-- Profile Content -->
<div class="grid md:grid-cols-2 gap-6">

    <!-- Contact Info -->
    <div class="bg-white rounded-xl shadow-md p-6">
        <h2 class="text-xl font-semibold text-indigo-700 mb-4">Contact Information</h2>
        <div class="space-y-2 text-gray-700">
            {% if user.show_email %}
            <p><span class="font-medium">Email:</span> {{ user.email }}</p>
            {% endif %}
            {% if user.show_phone %}
            <p><span class="font-medium">Phone:</span> {{ user.phone or 'Not Provided' }}</p>
            {% endif %}
        </div>
    </div>

    <!-- Academic Info -->
    <div class="bg-white rounded-xl shadow-md p-6">
        <h2 class="text-xl font-semibold text-indigo-700 mb-4">Academic Info</h2>
        <div class="space-y-2 text-gray-700">
            <p><span class="font-medium">Roll Number:</span> {{ user.id }}</p>
            <p><span class="font-medium">CGPA:</span> {{ user.cgpa or 'Not Provided' }}</p>
            {% if user.resume %}
            <p><a href="{{ url_for('static', filename=user.resume) }}" class="text-indigo-600 hover:underline">Download
                    Resume</a></p>
            {% endif %}
        </div>
    </div>

    <!-- More Details -->
    <div class="bg-white rounded-xl shadow-md p-6 md:col-span-2">
        <h2 class="text-xl font-semibold text-indigo-700 mb-4">Additional Information</h2>
        <p class="text-gray-700">More fields like student bodies, achievements, etc., can be added here later.</p>
    </div>
</div>

<!-- Edit Button -->
{% if current_user.id == user.id %}
<div class="text-center mt-8">
    <a href="{{ url_for('profile.edit_profile') }}"
        class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg shadow-lg transition">
        Edit Profile
    </a>
</div>
{% endif %}

{% endblock %}